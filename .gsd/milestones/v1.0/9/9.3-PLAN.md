---
phase: 9
plan: 3
wave: 2
---

# Plan 9.3: Frontend UI Refinement

## Objective
Update the frontend app to support the new Phase 9 backend features: a model running indicator, a toggle to switch between RAG and Chat modes, and document deletion buttons.

## Context
- src/static/index.html
- src/static/style.css
- src/static/script.js
- src/api/health.py

## Tasks

<task type="auto">
  <name>Add System Health/Model Indicator Endpoint</name>
  <files>
    src/api/health.py
  </files>
  <action>
    - Extend the `GET /health` endpoint (or create `GET /system/info`) to return the currently loaded LLM (from `llm_service`).
    - Expose memory/cache info if necessary.
  </action>
  <verify>curl http://localhost:8000/health</verify>
  <done>Endpoint returns the active model type.</done>
</task>

<task type="auto">
  <name>Update Frontend UI Toggles & Indicators</name>
  <files>
    src/static/index.html
    src/static/style.css
    src/static/script.js
  </files>
  <action>
    - **Header Bar**: Add a small indicator showing the active model state (e.g., "ðŸŸ¢ Sarvam-1 (RAG Mode)" or "ðŸŸ¢ Llama-3-Chat"). Poll this endpoint lazily or update on message sent.
    - **Chat Mode Toggle**: Add a Switch/Radio UI element above the chat input allowing the user to select between "RAG Assistant" and "Normal Chatbot". Pass this selection (`mode="rag"` vs `mode="chat"`) in the `POST /ask` body.
    - **Delete Documents**: In the document list panel, add a `Trash`/`Delete` icon next to each document. Clicking it should fire the `DELETE /documents/{doc_id}` request and remove the item from the list visually.
  </action>
  <verify>Open frontend in browser and test components</verify>
  <done>UI properly toggles modes, deletes docs, and shows active model.</done>
</task>

## Success Criteria
- [ ] Chat UI has a mode toggle switcher.
- [ ] Document list has functioning delete buttons.
- [ ] Model indicator visibly shows the GPU load target.
